<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference-implementation/aws/README" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">AWS Reference Implementation | CNOE</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cnoe.io/docs/reference-implementation/aws"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="AWS Reference Implementation | CNOE"><meta data-rh="true" name="description" content="This project contains an Internal Developer Platform (IDP) reference implementation for AWS. This project can bring up an IDP on EKS with all the tools configured and ready to use in production. It will install addons on an EKS cluster as Argo CD apps using GitOps Bridge App of ApplicationSets pattern. Check out the Getting Started guide for installing this solution on an EKS cluster."><meta data-rh="true" property="og:description" content="This project contains an Internal Developer Platform (IDP) reference implementation for AWS. This project can bring up an IDP on EKS with all the tools configured and ready to use in production. It will install addons on an EKS cluster as Argo CD apps using GitOps Bridge App of ApplicationSets pattern. Check out the Getting Started guide for installing this solution on an EKS cluster."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cnoe.io/docs/reference-implementation/aws"><link data-rh="true" rel="alternate" href="https://cnoe.io/docs/reference-implementation/aws" hreflang="en"><link data-rh="true" rel="alternate" href="https://cnoe.io/docs/reference-implementation/aws" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Setup IDP on AWS","item":"https://cnoe.io/docs/reference-implementation/aws/"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CNOE RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CNOE Atom Feed">







<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel="stylesheet" href="/assets/css/styles.b79d7a1f.css">
<script src="/assets/js/runtime~main.c56a1d2d.js" defer="defer"></script>
<script src="/assets/js/main.f14ca1a8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo-no-name.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-no-name.png" alt="CNOE Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-no-name.png" alt="CNOE Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview/cnoe">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://calendar.google.com/calendar/u/0/embed?src=064a2adfce866ccb02e61663a09f99147f22f06374e7a8994066bdc81e066986@group.calendar.google.com&amp;ctz=America/Los_Angeles" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--calendar-link" aria-label="Community Calendar"></a><a href="https://cloud-native.slack.com/archives/C05TN9WFN5S" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--slack-link" aria-label="Slack Channel"></a><a href="https://github.com/cnoe-io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--github-link" aria-label="GitHub Repository"></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/overview/cnoe">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/reference-implementation/local">IDP Reference Implementation</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/reference-implementation/local">Setup IDP on Local Machine</a><button aria-label="Expand sidebar category &#x27;Setup IDP on Local Machine&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/docs/reference-implementation/aws">Setup IDP on AWS</a><button aria-label="Collapse sidebar category &#x27;Setup IDP on AWS&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference-implementation/aws/docs/installation_flow">Installation Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference-implementation/aws/docs/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference-implementation/aws/docs/installation_with_idpbuilder">Using IDPBuilder (Optional)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/reference-implementation/azure">Setup IDP on Azure</a><button aria-label="Expand sidebar category &#x27;Setup IDP on Azure&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/idpbuilder">IDPBuilder</a><button aria-label="Expand sidebar category &#x27;IDPBuilder&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tutorials/idpbuilder/idpbuilder-stack">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/contributing/aws-ref-impl-CONTRIBUTING">Contributing</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">IDP Reference Implementation</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Setup IDP on AWS</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>AWS Reference Implementation</h1></header>
<p>This project contains an Internal Developer Platform (IDP) reference implementation for AWS. This project can bring up an IDP on EKS with all the tools configured and ready to use in production. It will install addons on an EKS cluster as Argo CD apps using GitOps Bridge App of ApplicationSets pattern. Check out the <a href="#getting-started">Getting Started</a> guide for installing this solution on an EKS cluster.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Applications deployed in this repository are a starting point to get environment into production.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-overview">Architecture Overview<a href="#architecture-overview" class="hash-link" aria-label="Direct link to Architecture Overview" title="Direct link to Architecture Overview">​</a></h2>
<p><img decoding="async" loading="lazy" alt="overview" src="/assets/images/overview-d1888b26df7b7ed750ac915f7c85159c.png" width="2304" height="2099" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="addons">Addons<a href="#addons" class="hash-link" aria-label="Direct link to Addons" title="Direct link to Addons">​</a></h2>
<p>All the addons are helm charts with static values configured in <code>packages/&lt;addon-name&gt;/values.yaml</code> and dynamic values based on Argo CD cluster secret label/annotations values in <code>packages/addons/values.yaml</code>.</p>
<table><thead><tr><th>Name</th><th>Namespace</th><th>Purpose</th><th>Chart Version</th><th>Chart</th></tr></thead><tbody><tr><td>Argo CD</td><td>argocd</td><td>Installation and management of addon Argo CD application</td><td>8.0.14</td><td><a href="https://github.com/argoproj/argo-helm/tree/main/charts/argo-cd" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>Argo Workflows</td><td>argo</td><td>Workflow tool for continuous integration tasks</td><td>0.45.18</td><td><a href="https://github.com/argoproj/argo-helm/tree/main/charts/argo-workflows" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>Backstage</td><td>backstage</td><td>Self-Service Web UI (Developer Portal) for developers</td><td>2.6.0</td><td><a href="https://github.com/backstage/charts/tree/main/charts/backstage" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>Cert Manager</td><td>cert-manager</td><td>Certificate manager for addons and developer applications using Let&#x27;s Encrypt</td><td>1.17.2</td><td><a href="https://cert-manager.io/docs/installation/helm/" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>Crossplane</td><td>crossplane-system</td><td>IaC controller for provisioning infrastructure</td><td>1.20.0</td><td><a href="https://github.com/crossplane/crossplane/tree/main/cluster/charts/crossplane" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>ACK</td><td>ack-system</td><td>IaC controller for provisioning infrastructure</td><td>TBD</td><td>Coming soon check <a href="https://github.com/cnoe-io/reference-implementation-aws/issues/54" target="_blank" rel="noopener noreferrer">#54</a></td></tr><tr><td>External DNS</td><td>external-dns</td><td>Domain management using Route 53</td><td>1.16.1</td><td><a href="https://github.com/kubernetes-sigs/external-dns/tree/master/charts/external-dns" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>External Secrets</td><td>external-secrets</td><td>Secret Management using AWS Secret Manager and AWS Systems Manager Parameter Store</td><td>Version</td><td><a href="https://github.com/external-secrets/external-secrets/tree/main/deploy/charts/external-secrets" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>Ingress NGINX</td><td>ingress-nginx</td><td>Ingress controller for L7 network traffic routing</td><td>4.7.0</td><td><a href="https://github.com/kubernetes/ingress-nginx/tree/main/charts/ingress-nginx" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>Keycloak</td><td>keycloak</td><td>Identity provider for User Authentication</td><td>24.7.3</td><td><a href="https://github.com/bitnami/charts/tree/main/bitnami/keycloak" target="_blank" rel="noopener noreferrer">Link</a></td></tr></tbody></table>
<p>Check out more details about the <a href="/docs/reference-implementation/aws/docs/installation_flow">installation flow</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation-flow-diagram">Installation Flow Diagram<a href="#installation-flow-diagram" class="hash-link" aria-label="Direct link to Installation Flow Diagram" title="Direct link to Installation Flow Diagram">​</a></h2>
<p>This diagram illustrates the high-level installation flow for the CNOE AWS Reference Implementation. It shows how the local environment interacts with AWS resources to deploy and configure the platform on an EKS cluster.</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-️-prepare-environment-for-installation">Step 1. ⚙️ Prepare Environment for Installation<a href="#step-1-️-prepare-environment-for-installation" class="hash-link" aria-label="Direct link to Step 1. ⚙️ Prepare Environment for Installation" title="Direct link to Step 1. ⚙️ Prepare Environment for Installation">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-install-binaries">📦 Install Binaries<a href="#-install-binaries" class="hash-link" aria-label="Direct link to 📦 Install Binaries" title="Direct link to 📦 Install Binaries">​</a></h4>
<p>The installation requires the following binaries in the local environment:</p>
<ul>
<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html" target="_blank" rel="noopener noreferrer"><strong>AWS CLI</strong></a></li>
<li><a href="https://kubernetes.io/docs/tasks/tools/" target="_blank" rel="noopener noreferrer"><strong>kubectl</strong></a></li>
<li><a href="https://mikefarah.gitbook.io/yq/v3.x" target="_blank" rel="noopener noreferrer"><strong>yq</strong></a></li>
<li><a href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener noreferrer"><strong>helm</strong></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-configure-aws-credentials">🔐 Configure AWS Credentials<a href="#-configure-aws-credentials" class="hash-link" aria-label="Direct link to 🔐 Configure AWS Credentials" title="Direct link to 🔐 Configure AWS Credentials">​</a></h4>
<p>Configure the AWS CLI with credentials of an IAM role which has access to the EKS cluster. Follow the instructions in the <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-quickstart.html#getting-started-quickstart-new" target="_blank" rel="noopener noreferrer">AWS documentation</a> to configure the AWS CLI.</p>
<p>If the installation steps are being executed on an EC2 instance, ensure that the EC2 IAM instance role has permissions to access the EKS cluster or the AWS CLI is configured as mentioned above.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2--create-github-organization">Step 2. 🏢 Create GitHub Organization<a href="#step-2--create-github-organization" class="hash-link" aria-label="Direct link to Step 2. 🏢 Create GitHub Organization" title="Direct link to Step 2. 🏢 Create GitHub Organization">​</a></h3>
<p>Backstage and Argo CD in this reference implementation are integrated with GitHub. Both Backstage and ArgoCD use Github Apps for authenticating with Github.</p>
<p>Therefore, a GitHub Organization should be created in order to create GitHub Apps for these integrations. Follow the instructions in <a href="https://docs.github.com/en/organizations/collaborating-with-groups-in-organizations/creating-a-new-organization-from-scratch" target="_blank" rel="noopener noreferrer">GitHub documentation</a> to create new organization or visit <a href="https://github.com/account/organizations/new" target="_blank" rel="noopener noreferrer">here</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>It is recommended to use a Github Organization instead of a personal github ID as Backstage has certain <a href="https://backstage.io/docs/integrations/github/github-apps/#caveats" target="_blank" rel="noopener noreferrer">limitations</a> for using personal account Github Apps for authenticating to Github. Also, the Github Organization is <em><strong>FREE</strong></em>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3--fork-the-repository">Step 3. 🍴 Fork the Repository<a href="#step-3--fork-the-repository" class="hash-link" aria-label="Direct link to Step 3. 🍴 Fork the Repository" title="Direct link to Step 3. 🍴 Fork the Repository">​</a></h3>
<p>Once the organization is created, fork this repository to the new GitHub Organization by following instructions in <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo" target="_blank" rel="noopener noreferrer">GitHub documentation</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4--create-github-apps">Step 4. 💻 Create GitHub Apps<a href="#step-4--create-github-apps" class="hash-link" aria-label="Direct link to Step 4. 💻 Create GitHub Apps" title="Direct link to Step 4. 💻 Create GitHub Apps">​</a></h3>
<p>There are two ways to create a GitHub App. You can use the Backstage CLI <code>npx @backstage/cli create-github-app &lt;github-org&gt;</code> as per instructions in the <a href="https://backstage.io/docs/integrations/github/github-apps/#using-the-cli-public-github-only" target="_blank" rel="noopener noreferrer">Backstage documentation</a>, or create it manually per these instructions in the <a href="https://backstage.io/docs/integrations/github/github-apps" target="_blank" rel="noopener noreferrer">GitHub documentation</a>.</p>
<p>Create the following apps and store them in the corresponding file path.</p>
<table><thead><tr><th>App Name</th><th>Purpose</th><th>Required Permissions</th><th>File Path</th><th>Expected Content</th></tr></thead><tbody><tr><td>Backstage</td><td>Used for automatically importing Backstage configuration such as Organization information, templates and creating new repositories for developer applications.</td><td>For All Repositories - Read access to members, metadata, and organization administration - Read and write access to administration and code</td><td><strong><code>private/backstage-github.yaml</code></strong></td><td><img decoding="async" loading="lazy" alt="backstage-github-app" src="/assets/images/backstage-github-app-e35214f17c03afc45063f32d47b84f95.png" width="858" height="330" class="img_ev3q"></td></tr><tr><td>Argo CD</td><td>Used for deploying resources to cluster specified by Argo CD applications.</td><td>For All Repositories - Read access to checks, code, members, and metadata</td><td><strong><code>private/argocd-github.yaml</code></strong></td><td><img decoding="async" loading="lazy" alt="argocd-github-app" src="/assets/images/argocd-github-app-8d7bddca9308000eca00685a458b84aa.png" width="822" height="272" class="img_ev3q"></td></tr></tbody></table>
<p>The template files for both these Github Apps are available in <code>private</code> directory. Copy these template files to above mentioned file path by running following command:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp private/argocd-github.yaml.template private/argocd-github.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp private/backstage-github.yaml.template private/backstage-github.yaml</span><br></span></code></pre></div></div>
<p>After this, update the values in these files by getting them from files created by <code>backstage-cli</code> <em>(if used)</em> or get the values from Github page of App Overview.</p>
<p>Argo CD requires <code>url</code> and <code>installationId</code> of the GitHub app. The <code>url</code> is the GitHub URL of the organization. The <code>installationId</code> can be captured by navigating to the app installation page with URL <code>https://github.com/organizations/&lt;Organization-name&gt;/settings/installations/&lt;ID&gt;</code>. You can find more information <a href="https://stackoverflow.com/questions/74462420/where-can-we-find-github-apps-installation-id" target="_blank" rel="noopener noreferrer">on this page</a>.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p><strong>If the app is created using the Backstage CLI, it creates files in the current working directory. These files contain credentials. Handle them with care. It is recommended to remove these files after copying the content over to files in the <code>private</code> directory</strong></p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The rest of the installation process assumes the GitHub apps credentials are available in <code>private/backstage-github.yaml</code> and <code>private/argocd-github.yaml</code></p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-️-configure-reference-implementation">Step 5. ⚙️ Configure Reference Implementation<a href="#step-5-️-configure-reference-implementation" class="hash-link" aria-label="Direct link to Step 5. ⚙️ Configure Reference Implementation" title="Direct link to Step 5. ⚙️ Configure Reference Implementation">​</a></h4>
<p>The reference implementation uses <a href="/docs/reference-implementation/config.yaml">config.yaml</a> file in the repository root directory to configure the installation values. The <strong><code>config.yaml</code></strong> should be updated with appropriate values before proceeding. Refer to the following table and update all the values appropriately. All the values are required.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td><code>cluster_name</code></td><td>Name of the EKS cluster for reference implementation   <strong>(The name should satisfy criteria of a valid <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/names/" target="_blank" rel="noopener noreferrer">kubernetes resource name</a>)</strong></td><td>string</td></tr><tr><td><code>auto_mode</code></td><td>Set to &quot;true&quot; if EKS cluster is Auto Mode, otherwise &quot;false&quot;</td><td>string</td></tr><tr><td><code>repo.url</code></td><td>GitHub URL of the fork in the Github Org</td><td>string</td></tr><tr><td><code>repo.revision</code></td><td>Branch or tag which should be used for Argo CD Apps</td><td>string</td></tr><tr><td><code>repo.basepath</code></td><td>Directory in which the configuration of addons is stored</td><td>string</td></tr><tr><td><code>region</code></td><td>AWS Region of the EKS cluster and config secret</td><td>string</td></tr><tr><td><code>domain</code></td><td>Base Domain name for exposing services <strong>(This should be base domain or sub domain of the Route53 Hosted Zone)</strong></td><td>string</td></tr><tr><td><code>route53_hosted_zone_id</code></td><td>Route53 hosted zone ID for configuring external-dns</td><td>string</td></tr><tr><td><code>path_routing</code></td><td>Enable path routing (&quot;true&quot;) vs domain-based routing (&quot;false&quot;)</td><td>string</td></tr><tr><td><code>tags</code></td><td>Arbitrary key-value pairs for AWS resource tagging</td><td>object</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If these values are updated after installation, ensure to run the command in the next step to update the values in AWS Secret Manager. Otherwise, the updated values will not reflect in the live installation.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-6--create-secrets-in-aws-secret-manager">Step 6. 🔒 Create Secrets in AWS Secret Manager<a href="#step-6--create-secrets-in-aws-secret-manager" class="hash-link" aria-label="Direct link to Step 6. 🔒 Create Secrets in AWS Secret Manager" title="Direct link to Step 6. 🔒 Create Secrets in AWS Secret Manager">​</a></h4>
<p>The values required for the installation are stored in AWS Secret Manager in two secrets:</p>
<ol>
<li><strong>cnoe-ref-impl/config:</strong> Stores values from <strong><code>config.yaml</code></strong> in JSON</li>
<li><strong>cnoe-ref-impl/github-app:</strong> Stores GitHub App credentials with file name as key and content of the file as value from <strong>private</strong> directory.</li>
</ol>
<p>Run the command below to create new secrets or update the existing secrets if they already exist.</p>
<div class="terminal_w2Kt"><div class="terminalHeader_Kk1r"><div class="terminalControls_X6oT"><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span></div><button class="copyButton_H_xL" aria-label="Copy all commands" data-copied="false"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><div class="terminalBody_tZ9P"><pre class="enhancedPre_UwTO"><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">./scripts/create-config-secrets.sh</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK"></div></div></div></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p><strong>DO NOT</strong> move to next steps without completing all the instructions in this step</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-7-️-create-eks-cluster">Step 7. ☸️ Create EKS Cluster<a href="#step-7-️-create-eks-cluster" class="hash-link" aria-label="Direct link to Step 7. ☸️ Create EKS Cluster" title="Direct link to Step 7. ☸️ Create EKS Cluster">​</a></h3>
<p>The reference implementation can be installed on a new EKS cluster which can be created like this:</p>
<div class="terminal_w2Kt"><div class="terminalHeader_Kk1r"><div class="terminalControls_X6oT"><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span></div><button class="copyButton_H_xL" aria-label="Copy all commands" data-copied="false"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><div class="terminalBody_tZ9P"><pre class="enhancedPre_UwTO"><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">export REPO_ROOT=$(git rev-parse --show-toplevel)</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div><span class="prompt_iIjO">$</span><span class="command_Noto">REPO_ROOT/scripts/create-cluster.sh</span></div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK"></div></div></div></pre></div></div>
<p>You will be prompted to select <code>eksctl</code> or <code>terraform</code></p>
<p>For more details on each type of tools check the corresponding guides:</p>
<ul>
<li><strong>eksctl</strong>: Follow the <a href="/docs/reference-implementation/cluster/eksctl">instructions</a></li>
<li><strong>terraform</strong>: Follow the <a href="/docs/reference-implementation/cluster/terraform">instructions</a></li>
</ul>
<p>This will create all the prerequisite AWS Resources required for the reference implementation, which includes:</p>
<ul>
<li>EKS cluster with Auto Mode or Without Auto Mode (Managed Node Group with 4 nodes)</li>
<li>Pod Identity Associations for following Addons:</li>
</ul>
<table><thead><tr><th>Name</th><th>Namespace</th><th>Service Account Name</th><th>Permissions</th></tr></thead><tbody><tr><td>Crossplane</td><td>crossplane-system</td><td>provider-aws</td><td>Admin Permissions but with <a href="/docs/reference-implementation/cluster/iam-policies/crossplane-permissions-boundry.json">permission boundary</a></td></tr><tr><td>External Secrets</td><td>external-secrets</td><td>external-secrets</td><td><a href="https://external-secrets.io/latest/provider/aws-secrets-manager/#iam-policy" target="_blank" rel="noopener noreferrer">Permissions</a></td></tr><tr><td>External DNS</td><td>external-dns</td><td>external-dns</td><td><a href="https://kubernetes-sigs.github.io/external-dns/latest/docs/tutorials/aws/#iam-policy" target="_blank" rel="noopener noreferrer">Permissions</a></td></tr><tr><td>AWS Load Balancer Controller (When not using Auto Mode)</td><td>kube-system</td><td>aws-load-balancer-controller</td><td><a href="https://github.com/kubernetes-sigs/aws-load-balancer-controller/blob/main/docs/install/iam_policy.json" target="_blank" rel="noopener noreferrer">Permissions</a></td></tr><tr><td>AWS EBS CSI Controller (When not using Auto Mode)</td><td>kube-system</td><td>ebs-csi-controller-sa</td><td><a href="https://docs.aws.amazon.com/aws-managed-policy/latest/reference/AmazonEBSCSIDriverPolicy.html" target="_blank" rel="noopener noreferrer">Permissions</a></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><strong>Using Existing EKS Cluster</strong></p><p>The reference implementation can be installed on an existing EKS Cluster only if the above prerequisites are completed.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-8--deployment">Step 8. 🚀 Deployment<a href="#step-8--deployment" class="hash-link" aria-label="Direct link to Step 8. 🚀 Deployment" title="Direct link to Step 8. 🚀 Deployment">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Before moving forward, ensure that the kubectl context is set to the EKS cluster and the configured AWS IAM role has access to the cluster.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="️-start-the-installation-process">▶️ Start the Installation Process<a href="#️-start-the-installation-process" class="hash-link" aria-label="Direct link to ▶️ Start the Installation Process" title="Direct link to ▶️ Start the Installation Process">​</a></h4>
<p>All the addons are installed as Argo CD apps. At the start of the installation, Argo CD and External Secret Operator are installed on the EKS cluster as a helm chart. Once Argo CD on EKS is up, other addons are installed through it and finally the Argo CD on EKS also manages itself and External Secret Operator. Check out more details about the <a href="/docs/reference-implementation/aws/docs/installation_flow">installation flow</a>. Run the following command to start the installation.</p>
<div class="terminal_w2Kt"><div class="terminalHeader_Kk1r"><div class="terminalControls_X6oT"><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span></div><button class="copyButton_H_xL" aria-label="Copy all commands" data-copied="false"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><div class="terminalBody_tZ9P"><pre class="enhancedPre_UwTO"><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">scripts/install.sh</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK"></div></div></div></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-9--accessing-the-platform">Step 9. 🌐 Accessing the Platform<a href="#step-9--accessing-the-platform" class="hash-link" aria-label="Direct link to Step 9. 🌐 Accessing the Platform" title="Direct link to Step 9. 🌐 Accessing the Platform">​</a></h3>
<p>The addons with Web UI are exposed using the base domain configured in <a href="#%EF%B8%8F-configure-reference-implementation">Step 5</a>. The URLs can be retrieved by running the following command:</p>
<div class="terminal_w2Kt"><div class="terminalHeader_Kk1r"><div class="terminalControls_X6oT"><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span></div><button class="copyButton_H_xL" aria-label="Copy all commands" data-copied="false"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><div class="terminalBody_tZ9P"><pre class="enhancedPre_UwTO"><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">scripts/get-urls.sh</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK"></div></div></div></pre></div></div>
<p>The URL depends on the setting for <code>path_routing</code>. Refer to following table for URLs:</p>
<table><thead><tr><th>App Name</th><th>URL (w/ Path Routing)</th><th>URL (w/o Path Routing)</th></tr></thead><tbody><tr><td>Backstage</td><td><code>https://[domain]</code></td><td><code>https://backstage.[domain]</code></td></tr><tr><td>Argo CD</td><td><code>https://[domain]/argocd</code></td><td><code>https://argocd.[domain]</code></td></tr><tr><td>Argo Workflows</td><td><code>https://[domain]/argo-workflows</code></td><td><code>https://argo-workflows.[domain]</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-monitor-deployment-process">📊 Monitor Deployment Process<a href="#-monitor-deployment-process" class="hash-link" aria-label="Direct link to 📊 Monitor Deployment Process" title="Direct link to 📊 Monitor Deployment Process">​</a></h4>
<p>The installation script will continue to run until all the Argo CD apps for addons are healthy. To monitor the process, use the instructions below to access the instance of Argo CD running on EKS.</p>
<p>Check if the kubectl context is set to the EKS cluster and it can access the EKS cluster.</p>
<p>You can use <code>kubectl</code> to check the status of the Argo CD applications</p>
<div class="terminal_w2Kt"><div class="terminalHeader_Kk1r"><div class="terminalControls_X6oT"><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span></div><button class="copyButton_H_xL" aria-label="Copy all commands" data-copied="false"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><div class="terminalBody_tZ9P"><pre class="enhancedPre_UwTO"><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">kubectl get applications -n argocd --watch</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK"></div></div></div></pre></div></div>
<p>Get the credentials for Argo CD and start a port-forward with this command:</p>
<div class="terminal_w2Kt"><div class="terminalHeader_Kk1r"><div class="terminalControls_X6oT"><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span></div><button class="copyButton_H_xL" aria-label="Copy all commands" data-copied="false"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><div class="terminalBody_tZ9P"><pre class="enhancedPre_UwTO"><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">kubectl get secrets -n argocd argocd-initial-admin-secret -oyaml | yq &#x27;.data.password&#x27; | base64 -d &amp;&amp; echo</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">kubectl port-forward -n argocd svc/argocd-server 8080:80</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK"></div></div></div></pre></div></div>
<p>Depending upon the configuration, Argo CD will be accessible at <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080</a> or <a href="http://localhost:8080/argocd" target="_blank" rel="noopener noreferrer">http://localhost:8080/argocd</a>.</p>
<p>All the addons are configured with Keycloak SSO <code>user1</code> and the user password for it can be retrieved using the following command:</p>
<div class="terminal_w2Kt"><div class="terminalHeader_Kk1r"><div class="terminalControls_X6oT"><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span></div><button class="copyButton_H_xL" aria-label="Copy all commands" data-copied="false"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><div class="terminalBody_tZ9P"><pre class="enhancedPre_UwTO"><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">kubectl get secret -n keycloak keycloak-config -o jsonpath=&#x27;{.data.USER1_PASSWORD}&#x27; | base64 -d &amp;&amp; echo</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK"></div></div></div></pre></div></div>
<p>Once all the Argo CD apps on the EKS cluster are reporting healthy status, try out the <a href="/docs/reference-implementation/examples">examples</a> to create a new application through Backstage.
For troubleshooting, refer to the <a href="/docs/reference-implementation/aws/docs/troubleshooting">troubleshooting guide</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cleanup">Cleanup<a href="#cleanup" class="hash-link" aria-label="Direct link to Cleanup" title="Direct link to Cleanup">​</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Before proceeding with the cleanup, ensure any Kubernetes resources created outside of the installation process such as Argo CD Apps, deployments, volumes etc. are deleted.</p></div></div>
<p>Run the following command to remove all the addons created by this installation:</p>
<div class="terminal_w2Kt"><div class="terminalHeader_Kk1r"><div class="terminalControls_X6oT"><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span></div><button class="copyButton_H_xL" aria-label="Copy all commands" data-copied="false"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><div class="terminalBody_tZ9P"><pre class="enhancedPre_UwTO"><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">scripts/uninstall.sh</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK"></div></div></div></pre></div></div>
<p>This script will only remove resources other than CRDs from the EKS cluster so that the same cluster can be used for re-installation which is useful during development. To remove CRDs, use the following command:</p>
<div class="terminal_w2Kt"><div class="terminalHeader_Kk1r"><div class="terminalControls_X6oT"><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span><span class="terminalButton__Yhu"></span></div><button class="copyButton_H_xL" aria-label="Copy all commands" data-copied="false"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><div class="terminalBody_tZ9P"><pre class="enhancedPre_UwTO"><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK">scripts/cleanup-crds.sh</div></div></div><div class="commandLine__eue"><div class="" style="white-space:pre-wrap"><div class="text_hPwK"></div></div></div></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/cnoe-io/reference-implementation-aws/blob/main/README.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference-implementation/local/idpbuilder"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Set up IDP on Local Machine</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference-implementation/aws/docs/installation_flow"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installation Flow</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#architecture-overview" class="table-of-contents__link toc-highlight">Architecture Overview</a></li><li><a href="#addons" class="table-of-contents__link toc-highlight">Addons</a></li><li><a href="#installation-flow-diagram" class="table-of-contents__link toc-highlight">Installation Flow Diagram</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a><ul><li><a href="#step-1-️-prepare-environment-for-installation" class="table-of-contents__link toc-highlight">Step 1. ⚙️ Prepare Environment for Installation</a></li><li><a href="#step-2--create-github-organization" class="table-of-contents__link toc-highlight">Step 2. 🏢 Create GitHub Organization</a></li><li><a href="#step-3--fork-the-repository" class="table-of-contents__link toc-highlight">Step 3. 🍴 Fork the Repository</a></li><li><a href="#step-4--create-github-apps" class="table-of-contents__link toc-highlight">Step 4. 💻 Create GitHub Apps</a></li><li><a href="#step-7-️-create-eks-cluster" class="table-of-contents__link toc-highlight">Step 7. ☸️ Create EKS Cluster</a></li><li><a href="#step-8--deployment" class="table-of-contents__link toc-highlight">Step 8. 🚀 Deployment</a></li><li><a href="#step-9--accessing-the-platform" class="table-of-contents__link toc-highlight">Step 9. 🌐 Accessing the Platform</a></li></ul></li><li><a href="#cleanup" class="table-of-contents__link toc-highlight">Cleanup</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">DOCS</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/overview/cnoe">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contributing/aws-ref-impl-CONTRIBUTING">Contribute</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">SOCIAL</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://cloud-native.slack.com/archives/C05TN9WFN5S" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://calendar.google.com/calendar/u/0/embed?src=064a2adfce866ccb02e61663a09f99147f22f06374e7a8994066bdc81e066986@group.calendar.google.com&amp;ctz=America/Los_Angeles" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Meeting Calendar<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">MORE</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/cnoe-io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 CNOE</div></div></div></footer></div>
</body>
</html>